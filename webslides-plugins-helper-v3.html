<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>WebSlides Plugins ‚Äì Helper v3 (robust)</title>
<style>
  :root{--bg:#0b0f14;--card:#0f1720;--text:#e6f0ff;--muted:#95a3b8;--border:#203040;--accent:#60a5fa;--accent2:#34d399;--warn:#f59e0b;}
  *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#0b0f14,#0b1230);color:var(--text);font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{max-width:1000px;margin:0 auto;padding:20px}
  h1{margin:0 0 6px;font-size:28px}
  .muted{color:var(--muted)}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:12px 0}
  .btn{background:linear-gradient(180deg,#122238,#0f1a2b);border:1px solid var(--border);color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
  .btn:hover{filter:brightness(1.1)}
  input[type=search]{flex:1;min-width:220px;background:#0c1422;border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:12px;outline:none}
  .grid{display:grid;grid-template-columns:1fr;gap:14px}
  @media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
  .card{background:linear-gradient(180deg,#0f1720,#0d1320);border:1px solid var(--border);border-radius:16px;overflow:hidden}
  .card .head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;background:linear-gradient(90deg,rgba(96,165,250,.15),rgba(52,211,153,.15));border-bottom:1px solid var(--border)}
  .title{font-weight:700;letter-spacing:.02em}
  .tag{font-size:12px;border:1px solid var(--border);padding:3px 8px;border-radius:999px;margin-left:8px;color:#c7eaff}
  .content{padding:12px 14px}
  .label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-top:6px}
  pre{margin:0;background:#0a1220;border:1px solid var(--border);border-radius:10px;padding:10px;color:#dbeafe;font-size:12px;overflow:auto}
  .copy{background:#0d2038;border:1px solid var(--border);padding:6px 10px;border-radius:8px;color:#e6f0ff;cursor:pointer}
  .preview{margin-top:10px;border:1px solid var(--border);border-radius:12px;overflow:hidden}
  iframe{width:100%;height:280px;background:black;border:0;display:block}
  .ok{color:var(--accent2)} .warn{color:var(--warn)}
  .pill{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:#0c1626;cursor:pointer}
  .pill.active{outline:2px solid var(--accent)}
  .tips{margin-top:10px;border-left:3px solid var(--accent);padding-left:10px;color:#cde4ff}
</style>
</head>
<body>
<div class="wrap">
  <h1>WebSlides Plugins ‚Äì Helper v3</h1>
  <div class="muted">Robuste, klickbare Version. Wenn hier alles funktioniert, l√§uft es auch auf GitHub Pages.</div>
  <div class="row">
    <input id="q" type="search" placeholder="Suche (Icons, Animation, Code‚Ä¶)">
    <button id="filter-all" class="pill active" data-filter="all">Alle</button>
    <button id="filter-core" class="pill" data-filter="core">Core</button>
    <button id="filter-anim" class="pill" data-filter="animation">Animation</button>
    <button id="filter-code" class="pill" data-filter="code">Code</button>
    <button id="filter-video" class="pill" data-filter="video">Video</button>
    <button id="filter-charts" class="pill" data-filter="charts">Charts</button>
    <button id="filter-icons" class="pill" data-filter="icons">Icons</button>
    <button id="filter-lottie" class="pill" data-filter="lottie">Lottie</button>
  </div>

  <div id="grid" class="grid"></div>
  <div id="empty" style="display:none" class="tips">Keine Treffer. Filter zur√ºcksetzen oder Suche leeren.</div>

  <div class="tips">
    <strong>Hinweis:</strong> Previews verwenden <em>srcdoc</em> in iframes. Das funktioniert auf GitHub Pages ohne Zusatzkonfiguration. Falls du dennoch nichts siehst, probiere <strong>STRG/‚åò+F5</strong> (Cache leeren) oder h√§nge <code>?v=2</code> an die URL.
  </div>
</div>

<script>
const DATA=[
  {id:'core',name:'WebSlides Core',tag:'Core',cats:['core'],desc:'Pfeiltasten-, Touch- und Klick-Navigation √ºber webslides.js.',
   css:[],js:[{label:'webslides.js (lokal)',code:'<script src="js/webslides.js"></script>\\n<script>window.ws = new WebSlides();</script>'}],
   html:'<main role="main"><article id="webslides"><section class="aligncenter"><div class="wrap"><h1>Navigation aktiv</h1><p>Nutze die Pfeiltasten ‚ÜîÔ∏é</p></div></section></article></main>'},
  {id:'icons',name:'WebSlides SVG Icons',tag:'Icons',cats:['icons'],desc:'Leichte SVG-Icons. Ben√∂tigt svg-icons.css + svg-icons.js.',
   css:[{label:'svg-icons.css',code:'<link rel="stylesheet" href="css/svg-icons.css">'}],
   js:[{label:'svg-icons.js',code:'<script defer src="js/svg-icons.js"></script>'}],
   html:'<div style="display:flex;gap:8px;align-items:center"><svg class="fa-github" style="width:40px;height:40px"><use xlink:href="#fa-github"></use></svg><span>Beispiel-Icon</span></div>'},
  {id:'animation',name:'Animate.css',tag:'Animation',cats:['animation'],desc:'CSS-Animationen via Klassen.',
   css:[{label:'CDN',code:'<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">'}],
   js:[],html:'<h2 class="animate__animated animate__bounceIn">Hallo Animate.css</h2>'},
  {id:'code',name:'Highlight.js',tag:'Code',cats:['code'],desc:'Syntax-Highlighting f√ºr Codebl√∂cke.',
   css:[{label:'Theme',code:'<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">'}],
   js:[{label:'Script',code:'<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>\\n<script>hljs.highlightAll();</script>'}],
   html:'<pre><code class="language-css">.title { font-weight: 700; }</code></pre>'},
  {id:'video',name:'YouTube Embed',tag:'Video',cats:['video'],desc:'Videos per iframe einbinden.',
   css:[],js:[],html:'<div style="position:relative;padding-top:56.25%"><iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube" allowfullscreen style="position:absolute;left:0;top:0;width:100%;height:100%;border:0"></iframe></div>'},
  {id:'charts',name:'Chart.js',tag:'Charts',cats:['charts'],desc:'Einfache Charts per Canvas.',
   css:[],js:[{label:'CDN',code:'<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>'},{label:'Init',code:'<script>const ctx=document.getElementById(\"c\");new Chart(ctx,{type:\"line\",data:{labels:[\"Q1\",\"Q2\",\"Q3\",\"Q4\"],datasets:[{label:\"Umsatz\",data:[12,19,7,15]}]}});</script>'}],html:'<canvas id="c" width="420" height="220"></canvas>'},
  {id:'lottie',name:'Lottie (lottie-web)',tag:'Lottie',cats:['lottie'],desc:'JSON-Animationen in hoher Qualit√§t.',
   css:[],js:[{label:'CDN',code:'<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>'},{label:'Init',code:'<script>lottie.loadAnimation({container:document.getElementById(\"lottie\"),renderer:\"svg\",loop:true,autoplay:true,path:\"/path/to/animation.json\"});</script>'}],html:'<div id="lottie" style="width:180px;height:180px"></div>'}
];

const grid=document.getElementById('grid'); const empty=document.getElementById('empty'); const q=document.getElementById('q');
let FILTER='all', QUERY='';

function srcdoc(css,js,body){
  const cssTags=(css||[]).map(o=>o.code).join('\\n');
  const jsTags=(js||[]).map(o=>o.code).join('\\n');
  const baseCSS='<style>body{margin:0;min-height:100vh;display:grid;place-items:center;background:#0b0b0b;color:#f5f5f5;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial}</style>';
  return `<!doctype html><html><head><meta charset='utf-8'>${cssTags}${baseCSS}</head><body>${body}${jsTags}</body></html>`;
}

function copy(btn, text){
  navigator.clipboard.writeText(text).then(()=>{const o=btn.textContent;btn.textContent='Kopiert ‚úî';setTimeout(()=>btn.textContent=o,1100)});
}

function card(it){
  const cssRows=(it.css||[]).map(x=>`<div class="row"><span class="label">CSS</span><button class="btn copy" data-code="${encodeURIComponent(x.code)}">${x.label}</button></div>`).join('');
  const jsRows=(it.js||[]).map(x=>`<div class="row"><span class="label">JS</span><button class="btn copy" data-code="${encodeURIComponent(x.code)}">${x.label}</button></div>`).join('');
  return `<div class="card" data-cats="${it.cats.join(',')}">
    <div class="head"><div><span class="title">${it.name}</span><span class="tag">${it.tag}</span></div>
      <button class="btn show">üëÅ Preview</button></div>
    <div class="content">
      <div class="muted">${it.desc}</div>
      ${cssRows}${jsRows}
      <div class="label">HTML Beispiel</div>
      <pre><code>${it.html.replace(/</g,'&lt;')}</code></pre>
      <div class="row"><button class="copy btn" data-all="${encodeURIComponent(it.html)}">HTML kopieren</button></div>
      <div class="preview" style="display:none">
        <iframe></iframe>
      </div>
    </div>
  </div>`;
}

function render(){
  const items=DATA.filter(it=>{
    const matchF=(FILTER==='all')||it.cats.includes(FILTER);
    const hay=(it.name+it.tag+it.desc).toLowerCase(); const matchQ=hay.includes(QUERY.toLowerCase());
    return matchF&&matchQ;
  });
  grid.innerHTML=items.map(card).join('');
  empty.style.display=items.length?'none':'block';

  grid.querySelectorAll('.copy').forEach(btn=>{
    btn.addEventListener('click',()=>{
      const code = btn.dataset.code ? decodeURIComponent(btn.dataset.code) : decodeURIComponent(btn.dataset.all);
      copy(btn, code);
    });
  });
  grid.querySelectorAll('.show').forEach(btn=>{
    btn.addEventListener('click',()=>{
      const card=btn.closest('.card'); const idx=[...grid.children].indexOf(card); const it=DATA.filter(it=> (FILTER==='all'||it.cats.includes(FILTER)) && (it.name+it.tag+it.desc).toLowerCase().includes(QUERY.toLowerCase()))[idx];
      const box=card.querySelector('.preview'); const frame=box.querySelector('iframe');
      const open=box.style.display!=='none';
      if(open){ box.style.display='none'; btn.textContent='üëÅ Preview'; frame.srcdoc=''; return; }
      frame.srcdoc=srcdoc(it.css,it.js,it.html);
      box.style.display='block'; btn.textContent='‚úñÔ∏è Close';
    });
  });
}

document.querySelectorAll('.pill').forEach(p=>p.addEventListener('click',()=>{
  document.querySelectorAll('.pill').forEach(x=>x.classList.remove('active')); p.classList.add('active');
  FILTER=p.dataset.filter; render();
}));
q.addEventListener('input',e=>{QUERY=e.target.value; render();});
render();
</script>
</body>
</html>
