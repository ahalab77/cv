<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>WebSlides Plugin & Tools Helper</title>
<style>
  :root { --bg:#0b0b0b; --card:#121212; --muted:#a1a1aa; --border:#2a2a2a; --text:#f5f5f5; --accent:#d4d4d8; }
  * { box-sizing: border-box; }
  body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; background:var(--bg); color:var(--text); }
  .container { max-width: 1200px; margin: 0 auto; padding: 24px; }
  h1 { font-size: clamp(22px, 2.2vw, 32px); margin: 0 0 4px; }
  p.lead { color: var(--muted); margin: 0 0 16px; }
  .header { display:flex; flex-direction: column; gap: 12px; }
  @media (min-width: 768px) {
    .header { flex-direction: row; align-items: end; justify-content: space-between; }
  }
  input[type="search"] {
    background: #111; border: 1px solid var(--border); color: var(--text);
    padding: 10px 12px; border-radius: 12px; width: 320px; outline: none;
  }
  input[type="search"]:focus { border-color:#3f3f46; }
  .grid { display: grid; grid-template-columns: repeat(1,minmax(0,1fr)); gap: 16px; margin-top: 16px; }
  @media (min-width: 900px) { .grid { grid-template-columns: repeat(2,minmax(0,1fr)); } }
  @media (min-width: 1200px) { .grid { grid-template-columns: repeat(3,minmax(0,1fr)); } }
  .card { background: var(--card); border:1px solid var(--border); border-radius: 16px; padding: 16px; }
  .card h3 { margin: 0 0 2px; font-size: 18px; }
  .tag { display:inline-block; background:#18181b; color:#e4e4e7; border:1px solid var(--border); border-radius:999px; padding:4px 8px; font-size:11px; margin-left:8px; }
  .desc { color: var(--muted); font-size: 14px; margin: 8px 0 12px; min-height: 36px; }
  .row { display:flex; gap:8px; align-items:center; margin:8px 0 4px; color:var(--muted); font-size:11px; text-transform:uppercase; letter-spacing:.06em; }
  .snippet { background:#0d0d0d; border:1px solid var(--border); border-radius:12px; overflow:hidden; margin:6px 0; }
  .snippet .bar { display:flex; justify-content:space-between; align-items:center; padding:6px 8px; color:#d4d4d8; font-size:12px; background:#131313; border-bottom:1px solid var(--border); }
  .snippet pre { margin:0; padding:10px 12px; font-size:12px; color:#e5e7eb; overflow:auto; }
  button.copy { background:#1f1f1f; border:1px solid var(--border); color:#e4e4e7; padding:6px 10px; border-radius:8px; cursor:pointer; }
  button.copy:hover { background:#242424; }
  .example { background:#0d0d0d; border:1px solid var(--border); border-radius:12px; padding:10px 12px; color:#e5e7eb; font-size:12px; overflow:auto; }
  .actions { margin-top: 10px; display:flex; gap:8px; }
  .btn { background:#1f1f1f; border:1px solid var(--border); color:#e4e4e7; padding:8px 10px; border-radius:10px; cursor:pointer; font-size:14px; }
  .btn:hover { background:#242424; }
  .preview { margin-top:10px; border:1px solid var(--border); border-radius:12px; overflow:hidden; }
  iframe { width:100%; height:260px; background:black; display:block; }
  footer { color:var(--muted); font-size:13px; margin-top: 18px; }
  .empty { color:var(--muted); text-align:center; padding:24px; border:1px dashed var(--border); border-radius:12px; }
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1>WebSlides Plugin &amp; Tools Helper</h1>
        <p class="lead">Alle Snippets (CSS/JS) und Beispiele an einer Stelle – zum Kopieren &amp; Testen.</p>
      </div>
      <input id="search" type="search" placeholder="Suchen (z. B. Animation, Icons, Video)">
    </div>

    <div id="grid" class="grid"></div>
    <div id="empty" class="empty" style="display:none">Keine Treffer. Suchbegriff ändern.</div>

    <footer>Hinweis: Binde die Snippets in deine <code>index.html</code> ein. Lokale Dateien (<code>js/webslides.js</code>, <code>css/svg-icons.css</code>) sind im WebSlides-Paket enthalten.</footer>
  </div>

<script>
const DATA = [
  {
    id: "core",
    name: "WebSlides Core",
    tag: "In WebSlides enthalten",
    description:
      "Aktiviert Pfeiltasten-, Touch- und Klick-Navigation. Lade webslides.js und initialisiere WebSlides.",
    css: [],
    js: [
      { label: "webslides.js (lokal)", code: '<script src="js/webslides.js"></script>\\n<script>window.ws = new WebSlides();</script>' }
    ],
    example: '<main role="main"><article id="webslides"><section class="aligncenter"><div class="wrap"><h1>WebSlides Navigation</h1><p>Nutze die Pfeiltasten ↔︎</p></div></section></article></main>'
  },
  {
    id: "svg-icons",
    name: "WebSlides SVG Icons",
    tag: "Offizielles Plugin",
    description:
      "Leichtgewichtige Icon-Symbole. Benötigt svg-icons.css & svg-icons.js im Projekt.",
    css: [
      { label: "svg-icons.css (lokal)", code: '<link rel="stylesheet" href="css/svg-icons.css">' }
    ],
    js: [
      { label: "svg-icons.js (lokal)", code: '<script defer src="js/svg-icons.js"></script>' }
    ],
    example: '<svg class="fa-github" style="width:48px;height:48px"><use xlink:href="#fa-github"></use></svg> <span style="margin-left:8px">— Beispiel-Icon</span>'
  },
  {
    id: "animate-css",
    name: "Animate.css",
    tag: "Animationen",
    description:
      "Fertige CSS-Animationen. Füge die CSS ein und verwende Klassen wie animate__animated animate__fadeInUp.",
    css: [
      { label: "CDN", code: '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">' }
    ],
    js: [],
    example: '<h2 class="animate__animated animate__fadeInUp" style="font-family:system-ui">Hallo Animate.css</h2>'
  },
  {
    id: "highlight-js",
    name: "Highlight.js",
    tag: "Code Highlighting",
    description:
      "Syntax-Highlighting für Codeblöcke. CSS-Theme + Script laden und hljs.highlightAll() aufrufen.",
    css: [
      { label: "CDN Theme", code: '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">' }
    ],
    js: [
      { label: "CDN Script", code: '<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>\\n<script>hljs.highlightAll();</script>' }
    ],
    example: '<pre><code class="language-css">.title { font-weight: 700; }</code></pre>'
  },
  {
    id: "youtube",
    name: "YouTube Embed",
    tag: "Video",
    description:
      "Videos direkt per <iframe> einbinden. In WebSlides oft in einer Section mit .wrap/aligncenter.",
    css: [], js: [],
    example: '<div style="position:relative;padding-top:56.25%"><iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video" allowfullscreen style="position:absolute;left:0;top:0;width:100%;height:100%;border:0"></iframe></div>'
  },
  {
    id: "chartjs",
    name: "Chart.js",
    tag: "Diagramme",
    description: "Einfache Charts per Canvas. Praktisch für KPI-Slides.",
    css: [],
    js: [
      { label: "CDN Script", code: '<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>' },
      { label: "Init", code: '<script>const ctx=document.getElementById("c");new Chart(ctx,{type:"line",data:{labels:["Q1","Q2","Q3","Q4"],datasets:[{label:"Umsatz",data:[12,19,7,15]}]}});</script>' }
    ],
    example: '<canvas id="c" width="400" height="220"></canvas>'
  },
  {
    id: "lottie",
    name: "Lottie (lottie-web)",
    tag: "Vektor-Animationen",
    description:
      "Hochqualitative JSON-Animationen. Perfekt für Logos/Illustrationen.",
    css: [],
    js: [
      { label: "CDN Script", code: '<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>' },
      { label: "Init", code: '<script>lottie.loadAnimation({container:document.getElementById("lottie"),renderer:"svg",loop:true,autoplay:true,path:"/path/to/animation.json"});</script>' }
    ],
    example: '<div id="lottie" style="width:200px;height:200px"></div>'
  }
];

function buildSrcDoc(cssTags = [], jsTags = [], body = "") {
  const css = cssTags.join("\\n");
  const js = jsTags.join("\\n");
  return `<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>${css}<style>body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;display:grid;place-items:center;min-height:260px;margin:0;padding:24px;background:#0b0b0b;color:#f5f5f5}</style></head><body>${body}${js}</body></html>`;
}

function copyToClipboard(text, btn) {
  navigator.clipboard.writeText(text).then(()=>{
    const old = btn.textContent;
    btn.textContent = "Kopiert ✔";
    setTimeout(()=>btn.textContent = old, 1200);
  });
}

function cardHTML(item) {
  const cssSnippets = (item.css||[]).map((c,i)=>`
    <div class="snippet">
      <div class="bar"><span>${c.label}</span><button class="copy" data-code="${encodeURIComponent(c.code)}">Code kopieren</button></div>
      <pre><code>${c.code.replace(/</g,'&lt;')}</code></pre>
    </div>`).join("");
  const jsSnippets = (item.js||[]).map((j,i)=>`
    <div class="snippet">
      <div class="bar"><span>${j.label}</span><button class="copy" data-code="${encodeURIComponent(j.code)}">Code kopieren</button></div>
      <pre><code>${j.code.replace(/</g,'&lt;')}</code></pre>
    </div>`).join("");
  const example = `<div class="example"><code>${item.example.replace(/</g,'&lt;')}</code></div>`;

  return `<div class="card" data-id="${item.id}">
    <div style="display:flex;align-items:flex-start;gap:8px;justify-content:space-between">
      <div>
        <h3>${item.name} <span class="tag">${item.tag}</span></h3>
        <div class="desc">${item.description}</div>
      </div>
      <div class="actions">
        <button class="btn preview-toggle">Preview anzeigen</button>
      </div>
    </div>
    ${item.css?.length?`<div class="row">CSS</div>${cssSnippets}`:''}
    ${item.js?.length?`<div class="row">JavaScript</div>${jsSnippets}`:''}
    <div class="row">HTML Beispiel</div>
    ${example}
    <div class="preview" style="display:none"><iframe sandbox="allow-scripts allow-same-origin allow-popups"></iframe></div>
  </div>`;
}

function render(items) {
  const grid = document.getElementById('grid');
  const empty = document.getElementById('empty');
  grid.innerHTML = items.map(cardHTML).join('');
  empty.style.display = items.length ? 'none' : 'block';

  grid.querySelectorAll('button.copy').forEach(btn=>{
    btn.addEventListener('click',()=> copyToClipboard(decodeURIComponent(btn.dataset.code), btn));
  });

  grid.querySelectorAll('.preview-toggle').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const card = btn.closest('.card');
      const id = card.dataset.id;
      const item = DATA.find(d=>d.id===id);
      const box = card.querySelector('.preview');
      const iframe = box.querySelector('iframe');
      const open = box.style.display !== 'none';
      if (open) {
        box.style.display = 'none';
        btn.textContent = 'Preview anzeigen';
      } else {
        const css = (item.css||[]).map(c=>c.code);
        const js  = (item.js||[]).map(j=>j.code);
        const srcDoc = buildSrcDoc(css, js, item.example);
        iframe.srcdoc = srcDoc;
        box.style.display = 'block';
        btn.textContent = 'Preview ausblenden';
      }
    });
  });
}

const search = document.getElementById('search');
function applyFilter() {
  const q = search.value.toLowerCase();
  const items = DATA.filter(p => (p.name + p.tag + p.description).toLowerCase().includes(q));
  render(items);
}
search.addEventListener('input', applyFilter);

render(DATA);
</script>
</body>
</html>
